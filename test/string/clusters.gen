# ------------------ Grapheme Clusters with Emoji ------------------

# Construct string with complex graphemes: ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ family emoji (ZWJ sequence)
var s = "AğŸ‘¨â€ğŸ‘©â€ğŸ‘§BğŸ˜ƒ";
var clusters = s.clusters();
print(clusters[0] == "A");  # expect: true
print(clusters[1] == "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§");  # expect: true
print(clusters[2] == "B");  # expect: true
print(clusters[3] == "ğŸ˜ƒ");  # expect: true

print(s.get_cluster(1) == "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§");  # expect: true
print(s.get_cluster(3) == "ğŸ˜ƒ"); # expect: true

try {
    s.get_cluster(5);
} catch IndexError {
    print("Caught");  # expect: Caught
} else {
    print("Wrong");
}
